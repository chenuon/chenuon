---
title: xls系统开发(6)：审核反审权限分开授权
date: 2020-02-17 15:15:48
top:
categories:
- xls开发
tags:
- xls系统
---

## 1.开发主题

如何将审核与反审分开授权：

如果状态只设置一个，那么授权时，被授权人同时拥有审核与反审的权限，如何分开？

## 2.开发过程

建立两个状态数据项：审核 与 反审，如下图

![审核与反审](/img/shfs.jpg)

同时在业务公式`审核`内添加`反审`的赋值：

> 执行条件`审核 = 常量.是`，匹配条件`本表单.识别码 = 数据源.识别码`，然后赋值反审的值为`常量.是`

反之，在业务公式`反审`内添加`审核`赋值：

> 执行条件`反审 = 常量.否`，匹配条件`本表单.识别码 = 数据源.识别码`，然后赋值审核的值为`常量.否`

以上两个条件除了报警/提示类公式，务必优先执行

这样表单的审核和反审权限就可以分开进行权限分配了
